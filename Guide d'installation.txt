# ğŸš€ MARTINE IA - Guide d'Installation Rapide

## ğŸ“ Ã‰tape 1 : CrÃ©er la structure de dossiers

Dans ton OneDrive, crÃ©e cette arborescence :

```
OneDrive/
â””â”€â”€ Outil-Martine/
    â”œâ”€â”€ .env
    â”œâ”€â”€ requirements.txt
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ notion_client.py
    â”‚   â”œâ”€â”€ gemini_estimator.py
    â”‚   â””â”€â”€ main.py
    â””â”€â”€ logs/
```

## ğŸ“ Ã‰tape 2 : Copier les fichiers

Je t'ai crÃ©Ã© 5 artifacts. Copie-colle le contenu de chacun :

1. **`.env`** â†’ fichier `.env` (Ã  la racine)
2. **`requirements.txt`** â†’ fichier `requirements.txt`
3. **`notion_client.py`** â†’ dans le dossier `src/`
4. **`gemini_estimator.py`** â†’ dans le dossier `src/`
5. **`main.py`** â†’ dans le dossier `src/`

## ğŸ”§ Ã‰tape 3 : Installer Python et les dÃ©pendances

### 3.1 VÃ©rifier Python
Ouvre PowerShell et tape :
```bash
python --version
```
Si tu n'as pas Python 3.8+, tÃ©lÃ©charge-le sur [python.org](https://www.python.org/downloads/)

### 3.2 Installer les librairies
Dans PowerShell, va dans ton dossier :
```bash
cd "C:\Users\[TON_NOM]\OneDrive\Outil-Martine"
pip install -r requirements.txt
```

## â–¶ï¸ Ã‰tape 4 : Utilisation Quotidienne

### Option A : Lancement Manuel (RecommandÃ© au dÃ©but)
J'ai crÃ©Ã© un fichier **`run_martine.bat`** dans le dossier.
1. Double-clique simplement sur `run_martine.bat`.
2. Une fenÃªtre noire va s'ouvrir, afficher la progression, et attendre que tu appuies sur une touche Ã  la fin.
3. C'est tout ! Tes tÃ¢ches Notion sont Ã  jour.

### Option B : Automatisation (Pour ne plus y penser)
Si tu veux que Ã§a tourne tout seul (ex: tous les matins Ã  9h) sans que tu touches Ã  rien :
**Condition :** Ton ordinateur doit Ãªtre allumÃ© Ã  cette heure-lÃ .

1. Cherche **"Planificateur de tÃ¢ches"** dans le menu DÃ©marrer de Windows.
2. Ã€ droite, clique sur **"CrÃ©er une tÃ¢che de base..."**.
3. **Nom** : "Martine IA Auto".
4. **DÃ©clencheur** : "Tous les jours" > Choisis l'heure (ex: 09:00:00).
5. **Action** : "DÃ©marrer un programme".
6. **Programme/script** : Parcourir > SÃ©lectionne le fichier `run_martine.bat`.
   *Astuce : Si une fenÃªtre s'ouvre, c'est bon.*

---

## ğŸ†˜ En cas de problÃ¨me

### Erreur Notion 401
VÃ©rifie que ton `NOTION_TOKEN` dans le fichier `.env` commence bien par `secret_` (et non `ntn_`) et que l'intÃ©gration est invitÃ©e sur la base de donnÃ©es.

### Erreur GPT
VÃ©rifie que ta `GPT_API_KEY` est valide.

---

## ğŸ¯ Ce que fait le script
1. Il lit tes tÃ¢ches Notion.
2. Il calcule le temps rÃ©el des tÃ¢ches terminÃ©es.
3. Il envoie les nouvelles tÃ¢ches Ã  GPT-4o pour estimation.
4. Il met Ã  jour Notion avec les heures estimÃ©es.

---

## ğŸ“Š Prochaines Ã©tapes (optionnelles)

Une fois que Ã§a tourne, on peut ajouter :

### A) CrÃ©er la base Phases
```python
# Je te ferai un script setup_phases.py pour crÃ©er automatiquement :
# - Base Phases avec colonnes (Nom, Projet, Statut, Budget temps)
# - Relations Projet â†’ Phase â†’ TÃ¢che
```

### B) Vues Notion optimisÃ©es
Je te crÃ©erai des templates JSON Ã  importer dans Notion pour :
- Vue "Aujourd'hui" (filtre : Date = today)
- Vue "Saisie rapide" (formulaire minimaliste)
- Vue "Arbre projet" (grouped by Phase)

### C) Dashboard de pilotage
Un fichier `dashboard.py` qui gÃ©nÃ¨re un rapport Excel/PDF avec :
- Temps estimÃ© vs rÃ©el par projet
- Alertes dÃ©rive >20%
- PrÃ©dictions burn-down

---

## ğŸ¯ Test immÃ©diat

Lance le script une premiÃ¨re fois :
```bash
cd src
python main.py
```

Tu devrais voir :
```
============================================================
ğŸ§  MARTINE IA - Estimation automatique des temps
============================================================

ğŸ”§ VÃ©rification des colonnes...
âœ… Colonnes prÃªtes

ğŸ“Š AgrÃ©gation des temps rÃ©els...
âœ… X tÃ¢ches mises Ã  jour avec temps rÃ©els

ğŸ” Recherche des tÃ¢ches Ã  estimer...
ğŸ“ X tÃ¢ches Ã  estimer

ğŸ¤– Lancement des estimations Gemini...
ğŸ¤– Estimation 1/X: [Nom tÃ¢che]
  âœ… 120 min estimÃ©es
...

ğŸ’¾ Mise Ã  jour Notion...
âœ… X/X estimations enregistrÃ©es
ğŸ“ Log sauvegardÃ©: logs/estimations_20251222_HHMMSS.json

ğŸ“Š Calcul des Ã©carts...
âœ… X Ã©carts calculÃ©s

============================================================
âœ… TRAITEMENT TERMINÃ‰
============================================================
```

---

## ğŸ“ Besoin d'aide ?

Si tu as une erreur, envoie-moi :
1. Le message d'erreur complet
2. Le contenu du fichier `.env` (masque les tokens !)
3. La version de Python (`python --version`)

Je dÃ©buggerai en 2 min ğŸ”¥